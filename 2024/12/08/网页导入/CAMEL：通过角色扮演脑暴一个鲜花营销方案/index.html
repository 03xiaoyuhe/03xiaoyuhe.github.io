<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
<link rel="stylesheet" href="/css/custom.css">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="你好，我是黄佳，欢迎来到 LangChain 实战课！ 大模型的成功，在很大程度上依赖于用户的输入来引导对话生成。如果用户能够详细描述他们的任务和需求，并与 ChatGPT 建立一个连贯的聊天上下文，那么 ChatGPT 往往能提供更精确和高质量的答案。但是，为模型提供这种引导是一项既费时又费力的任务。 这就引出了一个有趣的问题：能否让 ChatGPT 自己生成这些引导文本呢？ 基于这个想法，KA">
<meta property="og:type" content="article">
<meta property="og:title" content="O3xiaoyuhe">
<meta property="og:url" content="http://example.com/2024/12/08/%E7%BD%91%E9%A1%B5%E5%AF%BC%E5%85%A5/CAMEL%EF%BC%9A%E9%80%9A%E8%BF%87%E8%A7%92%E8%89%B2%E6%89%AE%E6%BC%94%E8%84%91%E6%9A%B4%E4%B8%80%E4%B8%AA%E9%B2%9C%E8%8A%B1%E8%90%A5%E9%94%80%E6%96%B9%E6%A1%88/index.html">
<meta property="og:site_name" content="O3xiaoyuhe">
<meta property="og:description" content="你好，我是黄佳，欢迎来到 LangChain 实战课！ 大模型的成功，在很大程度上依赖于用户的输入来引导对话生成。如果用户能够详细描述他们的任务和需求，并与 ChatGPT 建立一个连贯的聊天上下文，那么 ChatGPT 往往能提供更精确和高质量的答案。但是，为模型提供这种引导是一项既费时又费力的任务。 这就引出了一个有趣的问题：能否让 ChatGPT 自己生成这些引导文本呢？ 基于这个想法，KA">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/57/c3/578c7a5a91ffe7007c0fe4cea3d20bc3.png?wh=694x290">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/ee/16/ee865a375320fc2e9e3e690e24766e16.png?wh=2676x1528">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/82/f4/8258bbe76e664b41ce636bfa8655c4f4.png?wh=1444x1595">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/d8/e2/d824e74e324556232d86f20a3ab6e6e2.png?wh=1439x1631">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/cc/a5/cc725b0b74f2a066acdefc7c9a3c7da5.jpg?wh=1668x1008">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/45/90/453054aabe9d816ff88e05bb6ca03390.jpg?wh=1414x600">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/df/01/dff9cdf1f992756a3a02e48f63e96d01.jpg?wh=1412x830">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/21/5c/219851d4806bd8fa01f7ee09ac0f715c.jpg?wh=1438x875">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/dc/6f/dc6fb40781a2e53017e7d48d18f96a6f.jpg?wh=1418x848">
<meta property="og:image" content="https://static001.geekbang.org/resource/image/7c/87/7c01866d547f9517787cf25cd4a65587.jpg?wh=1419x666">
<meta property="article:published_time" content="2024-12-08T12:29:01.314Z">
<meta property="article:modified_time" content="2024-11-18T11:28:25.038Z">
<meta property="article:author" content="听">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://static001.geekbang.org/resource/image/57/c3/578c7a5a91ffe7007c0fe4cea3d20bc3.png?wh=694x290">

<link rel="canonical" href="http://example.com/2024/12/08/%E7%BD%91%E9%A1%B5%E5%AF%BC%E5%85%A5/CAMEL%EF%BC%9A%E9%80%9A%E8%BF%87%E8%A7%92%E8%89%B2%E6%89%AE%E6%BC%94%E8%84%91%E6%9A%B4%E4%B8%80%E4%B8%AA%E9%B2%9C%E8%8A%B1%E8%90%A5%E9%94%80%E6%96%B9%E6%A1%88/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title> | O3xiaoyuhe</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">O3xiaoyuhe</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2024/12/08/%E7%BD%91%E9%A1%B5%E5%AF%BC%E5%85%A5/CAMEL%EF%BC%9A%E9%80%9A%E8%BF%87%E8%A7%92%E8%89%B2%E6%89%AE%E6%BC%94%E8%84%91%E6%9A%B4%E4%B8%80%E4%B8%AA%E9%B2%9C%E8%8A%B1%E8%90%A5%E9%94%80%E6%96%B9%E6%A1%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="听">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="O3xiaoyuhe">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2024-12-08 20:29:01" itemprop="dateCreated datePublished" datetime="2024-12-08T20:29:01+08:00">2024-12-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2024-11-18 19:28:25" itemprop="dateModified" datetime="2024-11-18T19:28:25+08:00">2024-11-18</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>你好，我是黄佳，欢迎来到 LangChain 实战课！</p>
<p>大模型的成功，在很大程度上依赖于用户的输入来引导对话生成。如果用户能够详细描述他们的任务和需求，并与 ChatGPT 建立一个连贯的聊天上下文，那么 ChatGPT 往往能提供更精确和高质量的答案。但是，为模型提供这种引导是一项既费时又费力的任务。</p>
<p>这就引出了一个有趣的问题：<strong>能否让 ChatGPT 自己生成这些引导文本呢？</strong></p>
<p>基于这个想法，KAUST（阿卜杜拉国王大学）的研究团队提出了一个名为 CAMEL 的框架。CAMEL 采用了一种基于 “角色扮演” 方式的大模型交互策略。在这种策略中，不同的 AI 代理扮演不同的角色，通过互相交流来完成任务。</p>
<h2 id="CAMEL-交流式代理框架">CAMEL 交流式代理框架</h2>
<p>下面我们一起来看看 CAMEL——这个多 AI 通过角色扮演进行交互的框架，以及它在 LangChain 中的具体实现。</p>
<p><img src="https://static001.geekbang.org/resource/image/57/c3/578c7a5a91ffe7007c0fe4cea3d20bc3.png?wh=694x290" alt=""></p>
<p>CAMEL，字面意思是骆驼。这个框架来自于论文《<a href="https://link.juejin.cn/?target=https%3A%2F%2Farxiv.org%2Fpdf%2F2303.17760.pdf" title="https://arxiv.org/pdf/2303.17760.pdf">CAMEL: Communicative Agents for “Mind” Exploration of Large Scale Language Model Society</a>》（CAMEL：用于大规模语言模型社会的 “心智” 探索的交流式代理）。这里面所谓的 CAMEL，实际上来自<strong>沟通（也就是交流）</strong>、<strong>代理</strong>、<strong>心智</strong>、<strong>探索</strong>以及 <strong>LLM</strong> 这五个单词的英文首字母。</p>
<p>CAMEL 框架旨在通过角色扮演来促进交流代理之间的自主合作，并为其 “认知” 过程提供洞察。这种方法涉及使用启示式提示来指导聊天代理完成任务，同时保持与人类意图的一致性。这个框架为研究多代理系统的合作行为和能力提供了一种可扩展的方法。</p>
<p>上面这段介绍里面新名词不少，我们要一个个解释一下。</p>
<ul class="lvl-0">
<li class="lvl-4">
<p><strong>交流式代理</strong> Communicative Agents，是一种可以与人类或其他代理进行交流的计算机程序。这些代理可以是聊天机器人、智能助手或任何其他需要与人类交流的软件。为了使这些代理能够更好地与人类交流，研究人员一直在寻找方法来提高它们的交流能力。</p>
</li>
<li class="lvl-4">
<p><strong>角色扮演</strong> role-playing，则是这篇论文提出的主要思路，它允许交流代理扮演不同的角色，以更好地与人类或其他代理交流。这意味着代理可以模仿人类的行为，理解人类的意图，并据此做出反应。</p>
</li>
<li class="lvl-4">
<p><strong>启示式提示</strong> inception prompting，是一种指导代理完成任务的方法。通过给代理提供一系列的提示或指示，代理可以更好地理解它应该如何行动。这种方法可以帮助代理更好地与人类交流，并完成与人类的合作任务。</p>
</li>
</ul>
<p>这里的核心创新点是，通过角色扮演和启示式提示的框架来引导代理的交流过程。</p>
<h2 id="股票交易场景设计">股票交易场景设计</h2>
<p>论文中还提出了下面的目标场景和角色扮演设置。</p>
<p><img src="https://static001.geekbang.org/resource/image/ee/16/ee865a375320fc2e9e3e690e24766e16.png?wh=2676x1528" alt=""></p>
<h3 id="场景和角色设置">场景和角色设置</h3>
<p><strong>人类用户角色</strong>：负责提供要实现的想法，如为股票市场开发一个交易机器人。</p>
<p>人类可能不知道如何实现这个想法，但我们需要指定可能实现这个想法的角色，例如 Python 程序员和股票交易员。</p>
<p><strong>任务指定代理</strong>（Task Specifier Agent）：负责根据输入的想法为 AI 助手和 AI 用户确定一个具体的任务。因为人类用户的想法可能比较模糊，所以任务指定代理将提供详细描述，以使想法具体化。</p>
<p>描述：<strong>开发一个具有情感分析能力的交易机器人，该机器人可以监控社交媒体平台上特定股票的正面或负面评论，并根据情感分析结果执行交易。</strong></p>
<p>这样，就为 AI 助手提供了一个明确的任务来解决。</p>
<p>这里多说一句，之所以引入任务指定代理，是因为对话代理通常需要一个具体的任务提示来实现任务，对于非领域专家来说，创建这样一个具体的任务提示可能是具有挑战性或耗时的。</p>
<p>那么，参与此任务的 AI 角色就包括：</p>
<ul class="lvl-0">
<li class="lvl-4">
<p>一个以 Python 程序员为身份的 <strong>AI</strong> <strong>助手</strong>代理</p>
</li>
<li class="lvl-4">
<p>一个以股票交易员为身份的 <strong>AI</strong> <strong>用户</strong>代理</p>
</li>
</ul>
<p>接收到初步想法和角色分配后，AI 用户和 AI 助手通过指令跟随的方式互相聊天，他们将通过多轮对话合作完成指定任务，直到 AI 用户确定任务已完成。</p>
<p>其中，AI 用户是任务规划者，负责向 AI 助手发出以完成任务为导向的指令。另一方面，AI 助手是任务执行者，被设计为遵循 AI 用户指令并提供具体的解决方案，在这里他将给出设计股票交易系统的具体 Python 代码。</p>
<h3 id="提示模板设计">提示模板设计</h3>
<p>在 CAMEL 这个角色扮演框架中，Prompt Engineering 非常关键。与其他对话语言模型技术有所不同，这种提示工程只在角色扮演的初始阶段进行，主要用于明确任务和分配角色。当会话开始后，AI 助手和 AI 用户会自动地相互给出提示，直到对话结束。这种方法被称为 “Inception Prompting”。</p>
<p>Inception Prompting 包括三种类型的提示：任务明确提示、AI 助手提示和 AI 用户提示。在论文中，给出了两个提示模板作为示例。</p>
<p>在论文中，AI Society 和 AI Code 是两种不同的提示模板。这些提示模板被设计用来指导 AI 助手与 AI 用户之间的交互。</p>
<p>AI Society：这个提示模板主要关注 AI 助手在多种不同角色中的表现。例如，AI 助手可能扮演会计师、演员、设计师、医生、工程师等多种角色，而用户也可能有各种不同的角色，如博主、厨师、游戏玩家、音乐家等。这种设置是为了研究 AI 助手如何与不同角色的用户合作以完成各种任务。</p>
<p>AI Code：这个提示模板主要关注与编程相关的任务。它涉及到多种编程语言，如 Java、Python、JavaScript 等，以及多个领域，如会计、农业、生物学等。这种设置是为了研究 AI 助手如何在特定的编程语言和领域中帮助用户完成任务。</p>
<p><img src="https://static001.geekbang.org/resource/image/82/f4/8258bbe76e664b41ce636bfa8655c4f4.png?wh=1444x1595" alt=""></p>
<p><img src="https://static001.geekbang.org/resource/image/d8/e2/d824e74e324556232d86f20a3ab6e6e2.png?wh=1439x1631" alt=""></p>
<p>以 AI Society 为例，这个提示模板是为 AI 助手系统和 AI 用户系统设计的，它在角色扮演的开始时就给出了初始提示。以下是对这个模板的详细解释。</p>
<p><img src="https://static001.geekbang.org/resource/image/cc/a5/cc725b0b74f2a066acdefc7c9a3c7da5.jpg?wh=1668x1008" alt=""></p>
<p>这个提示模板为 AI 助手和 AI 用户提供了一个明确的框架，确保它们在对话中的行为是有序、一致和有效的。可以看出，与之前传统的提示设计不同，这种提示的设计更加复杂和细致，更像是一种交互协议或规范。这种设计在一定程度上提高了 AI 与 AI 之间自主合作的能力，并能更好地模拟人类之间的交互过程。</p>
<h2 id="易速鲜花营销方案">易速鲜花营销方案</h2>
<p>好，看完了论文的思路和论文中给出的示例，我们就要开始以 “易速鲜花” 为背景进行自己的 CAMEL 实战了。</p>
<h3 id="准备工作">准备工作</h3>
<p>先导入 API 密钥和所需要的库。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># 设置OpenAI API密钥</span><br><span class="line">import os</span><br><span class="line">os.environ[&quot;OPENAI_API_KEY&quot;] = &#x27;Your Key&#x27;</span><br><span class="line"></span><br><span class="line"># 导入所需的库</span><br><span class="line">from typing import List</span><br><span class="line">from langchain.chat_models import ChatOpenAI</span><br><span class="line">from langchain.prompts.chat import (</span><br><span class="line">    SystemMessagePromptTemplate,</span><br><span class="line">    HumanMessagePromptTemplate,</span><br><span class="line">)</span><br><span class="line">from langchain.schema import (</span><br><span class="line">    AIMessage,</span><br><span class="line">    HumanMessage,</span><br><span class="line">    SystemMessage,</span><br><span class="line">    BaseMessage,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="定义-CAMELAgent-类">定义 CAMELAgent 类</h3>
<p>下面，定义 CAMELAgent 类。这是一个核心类，用于管理与语言模型的交互。它包含了初始化消息、更新消息和与模型进行交互的方法。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"># 定义CAMELAgent类，用于管理与语言模型的交互</span><br><span class="line">class CAMELAgent:</span><br><span class="line">    def __init__(</span><br><span class="line">        self,</span><br><span class="line">        system_message: SystemMessage,</span><br><span class="line">        model: ChatOpenAI,</span><br><span class="line">    ) -&gt; None:</span><br><span class="line">        self.system_message = system_message</span><br><span class="line">        self.model = model</span><br><span class="line">        self.init_messages()</span><br><span class="line"></span><br><span class="line">    def reset(self) -&gt; None:</span><br><span class="line">        &quot;&quot;&quot;重置对话消息&quot;&quot;&quot;</span><br><span class="line">        self.init_messages()</span><br><span class="line">        return self.stored_messages</span><br><span class="line"></span><br><span class="line">    def init_messages(self) -&gt; None:</span><br><span class="line">        &quot;&quot;&quot;初始化对话消息&quot;&quot;&quot;</span><br><span class="line">        self.stored_messages = [self.system_message]</span><br><span class="line"></span><br><span class="line">    def update_messages(self, message: BaseMessage) -&gt; List[BaseMessage]:</span><br><span class="line">        &quot;&quot;&quot;更新对话消息列表&quot;&quot;&quot;</span><br><span class="line">        self.stored_messages.append(message)</span><br><span class="line">        return self.stored_messages</span><br><span class="line"></span><br><span class="line">    def step(self, input_message: HumanMessage) -&gt; AIMessage:</span><br><span class="line">        &quot;&quot;&quot;进行一步交互，并获取模型的响应&quot;&quot;&quot;</span><br><span class="line">        messages = self.update_messages(input_message)</span><br><span class="line"></span><br><span class="line">        output_message = self.model(messages)</span><br><span class="line">        self.update_messages(output_message)</span><br><span class="line"></span><br><span class="line">        return output_message</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="预设角色和任务提示">预设角色和任务提示</h3>
<p>预设的角色和任务提示，这部分定义了 AI 助手和用户的角色名称、任务描述以及每次讨论的字数限制。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 设置一些预设的角色和任务提示</span><br><span class="line">assistant_role_name = &quot;花店营销专员&quot;</span><br><span class="line">user_role_name = &quot;花店老板&quot;</span><br><span class="line">task = &quot;整理出一个夏季玫瑰之夜的营销活动的策略&quot;</span><br><span class="line">word_limit = 50  # 每次讨论的字数限制</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>这里，assistant_role_name 和 user_role_name 是用来定义代理的角色。这两个角色在后续的对话中扮演着不同的功能，具体设定如下。</p>
<ul class="lvl-0">
<li class="lvl-4">
<p><code>assistant_role_name = &quot;花店营销专员&quot;</code>：这是定义助手的角色。在此设定中，助手被视为一名花店营销专员，主要职责是为花店老板（即用户）提供关于营销活动的建议和策略。</p>
</li>
<li class="lvl-4">
<p><code>user_role_name = &quot;花店老板&quot;</code>：这是定义用户的角色。用户在这里是花店的老板，他们可能会向营销专员（即助手）提出关于花店推广活动的需求或询问，然后由营销专员来答复和提供建议。</p>
</li>
</ul>
<p>这种角色设定，主要是为了模拟现实中的交互场景，使得聊天代理能够更好地理解任务，并为实现这些任务提供有效的解决方案。通过为每个聊天代理设定一个特定的角色，可以使聊天的过程更加有目的性和效率，同时也能提供更为真实的人类对话体验。</p>
<h3 id="任务指定代理">任务指定代理</h3>
<p>然后，使用任务指定代理（Task Specifier）来明确任务描述。这是 CAMEL 框架的一个关键步骤，它确保了任务描述的具体性和清晰性。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># 定义与指定任务相关的系统提示</span><br><span class="line">task_specifier_sys_msg = SystemMessage(content=&quot;你可以让任务更具体。&quot;)</span><br><span class="line">task_specifier_prompt = &quot;&quot;&quot;这是一个&#123;assistant_role_name&#125;将帮助&#123;user_role_name&#125;完成的任务：&#123;task&#125;。</span><br><span class="line">请使其更具体化。请发挥你的创意和想象力。</span><br><span class="line">请用&#123;word_limit&#125;个或更少的词回复具体的任务。不要添加其他任何内容。&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line">task_specifier_template = HumanMessagePromptTemplate.from_template(</span><br><span class="line">    template=task_specifier_prompt</span><br><span class="line">)</span><br><span class="line">task_specify_agent = CAMELAgent(task_specifier_sys_msg, ChatOpenAI(model_name = &#x27;gpt-4&#x27;, temperature=1.0))</span><br><span class="line">task_specifier_msg = task_specifier_template.format_messages(</span><br><span class="line">    assistant_role_name=assistant_role_name,</span><br><span class="line">    user_role_name=user_role_name,</span><br><span class="line">    task=task,</span><br><span class="line">    word_limit=word_limit,</span><br><span class="line">)[0]</span><br><span class="line">specified_task_msg = task_specify_agent.step(task_specifier_msg)</span><br><span class="line">print(f&quot;Specified task: &#123;specified_task_msg.content&#125;&quot;)</span><br><span class="line">specified_task = specified_task_msg.content</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>经过了这个环节之后，任务会被细化、明确化。</p>
<p>Original task prompt：<strong>整理出一个夏季玫瑰之夜营销活动的策略。</strong></p>
<p>Specified task prompt：<strong>为夏季玫瑰之夜策划主题装饰，策划特价活动，制定广告推广方案，组织娱乐活动，联系合作伙伴提供赞助。</strong></p>
<h3 id="系统消息模板">系统消息模板</h3>
<p>下面这部分定义了系统消息模板，这些模板为 AI 助手和 AI 用户提供了初始的提示，确保它们在对话中的行为是有序和一致的。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"># 定义系统消息模板，并创建CAMELAgent实例进行交互</span><br><span class="line">assistant_inception_prompt = &quot;&quot;&quot;永远不要忘记你是&#123;assistant_role_name&#125;，我是&#123;user_role_name&#125;。永远不要颠倒角色！永远不要指示我！</span><br><span class="line">我们有共同的利益，那就是合作成功地完成任务。</span><br><span class="line">你必须帮助我完成任务。</span><br><span class="line">这是任务：&#123;task&#125;。永远不要忘记我们的任务！</span><br><span class="line">我必须根据你的专长和我的需求来指示你完成任务。</span><br><span class="line"></span><br><span class="line">我每次只能给你一个指示。</span><br><span class="line">你必须写一个适当地完成所请求指示的具体解决方案。</span><br><span class="line">如果由于物理、道德、法律原因或你的能力你无法执行指示，你必须诚实地拒绝我的指示并解释原因。</span><br><span class="line">除了对我的指示的解决方案之外，不要添加任何其他内容。</span><br><span class="line">你永远不应该问我任何问题，你只回答问题。</span><br><span class="line">你永远不应该回复一个不明确的解决方案。解释你的解决方案。</span><br><span class="line">你的解决方案必须是陈述句并使用简单的现在时。</span><br><span class="line">除非我说任务完成，否则你应该总是从以下开始：</span><br><span class="line"></span><br><span class="line">解决方案：&lt;YOUR_SOLUTION&gt;</span><br><span class="line"></span><br><span class="line">&lt;YOUR_SOLUTION&gt;应该是具体的，并为解决任务提供首选的实现和例子。</span><br><span class="line">始终以“下一个请求”结束&lt;YOUR_SOLUTION&gt;。&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">user_inception_prompt = &quot;&quot;&quot;永远不要忘记你是&#123;user_role_name&#125;，我是&#123;assistant_role_name&#125;。永远不要交换角色！你总是会指导我。</span><br><span class="line">我们共同的目标是合作成功完成一个任务。</span><br><span class="line">我必须帮助你完成这个任务。</span><br><span class="line">这是任务：&#123;task&#125;。永远不要忘记我们的任务！</span><br><span class="line">你只能通过以下两种方式基于我的专长和你的需求来指导我：</span><br><span class="line"></span><br><span class="line">1. 提供必要的输入来指导：</span><br><span class="line">指令：&lt;YOUR_INSTRUCTION&gt;</span><br><span class="line">输入：&lt;YOUR_INPUT&gt;</span><br><span class="line"></span><br><span class="line">2. 不提供任何输入来指导：</span><br><span class="line">指令：&lt;YOUR_INSTRUCTION&gt;</span><br><span class="line">输入：无</span><br><span class="line"></span><br><span class="line">“指令”描述了一个任务或问题。与其配对的“输入”为请求的“指令”提供了进一步的背景或信息。</span><br><span class="line"></span><br><span class="line">你必须一次给我一个指令。</span><br><span class="line">我必须写一个适当地完成请求指令的回复。</span><br><span class="line">如果由于物理、道德、法律原因或我的能力而无法执行你的指令，我必须诚实地拒绝你的指令并解释原因。</span><br><span class="line">你应该指导我，而不是问我问题。</span><br><span class="line">现在你必须开始按照上述两种方式指导我。</span><br><span class="line">除了你的指令和可选的相应输入之外，不要添加任何其他内容！</span><br><span class="line">继续给我指令和必要的输入，直到你认为任务已经完成。</span><br><span class="line">当任务完成时，你只需回复一个单词&lt;CAMEL_TASK_DONE&gt;。</span><br><span class="line">除非我的回答已经解决了你的任务，否则永远不要说&lt;CAMEL_TASK_DONE&gt;。&quot;&quot;&quot;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>之后，根据预设的角色和任务提示生成系统消息。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"># 根据预设的角色和任务提示生成系统消息</span><br><span class="line">def get_sys_msgs(assistant_role_name: str, user_role_name: str, task: str):</span><br><span class="line">    assistant_sys_template = SystemMessagePromptTemplate.from_template(</span><br><span class="line">        template=assistant_inception_prompt</span><br><span class="line">    )</span><br><span class="line">    assistant_sys_msg = assistant_sys_template.format_messages(</span><br><span class="line">        assistant_role_name=assistant_role_name,</span><br><span class="line">        user_role_name=user_role_name,</span><br><span class="line">        task=task,</span><br><span class="line">    )[0]</span><br><span class="line"></span><br><span class="line">    user_sys_template = SystemMessagePromptTemplate.from_template(</span><br><span class="line">        template=user_inception_prompt</span><br><span class="line">    )</span><br><span class="line">    user_sys_msg = user_sys_template.format_messages(</span><br><span class="line">        assistant_role_name=assistant_role_name,</span><br><span class="line">        user_role_name=user_role_name,</span><br><span class="line">        task=task,</span><br><span class="line">    )[0]</span><br><span class="line"></span><br><span class="line">    return assistant_sys_msg, user_sys_msg</span><br><span class="line"></span><br><span class="line">assistant_sys_msg, user_sys_msg = get_sys_msgs(</span><br><span class="line">    assistant_role_name, user_role_name, specified_task</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="创建-Agent-实例">创建 Agent 实例</h3>
<p>创建助手和用户的 CAMELAgent 实例，并初始化对话互动，使用 CAMELAgent 类的实例来模拟助手和用户之间的对话交互。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"># 创建助手和用户的CAMELAgent实例</span><br><span class="line">assistant_agent = CAMELAgent(assistant_sys_msg, ChatOpenAI(temperature=0.2))</span><br><span class="line">user_agent = CAMELAgent(user_sys_msg, ChatOpenAI(temperature=0.2))</span><br><span class="line"></span><br><span class="line"># 重置两个agent</span><br><span class="line">assistant_agent.reset()</span><br><span class="line">user_agent.reset()</span><br><span class="line"></span><br><span class="line"># 初始化对话互动</span><br><span class="line">assistant_msg = HumanMessage(</span><br><span class="line">    content=(</span><br><span class="line">        f&quot;&#123;user_sys_msg.content&#125;。&quot;</span><br><span class="line">        &quot;现在开始逐一给我介绍。&quot;</span><br><span class="line">        &quot;只回复指令和输入。&quot;</span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">user_msg = HumanMessage(content=f&quot;&#123;assistant_sys_msg.content&#125;&quot;)</span><br><span class="line">user_msg = assistant_agent.step(user_msg)</span><br><span class="line"></span><br><span class="line">print(f&quot;Original task prompt:\n&#123;task&#125;\n&quot;)</span><br><span class="line">print(f&quot;Specified task prompt:\n&#123;specified_task&#125;\n&quot;)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>这里，assistant_inception_prompt 和 user_inception_prompt 是两个关键的提示，用于引导聊天代理的行为和交流方式。关于这两个提示，让我们一起来深入理解一下它们的设计和目标。</p>
<ol>
<li class="lvl-4">
<p><strong>assistant_inception_prompt：</strong> 这个提示是为了引导助手（即营销专员）如何响应用户（即花店老板）的指示。它明确指出助手的角色和职责，强调了在完成任务的过程中需要遵循的一些基本规则和原则。例如，助手需要针对用户的每一个指示提供一个明确的解决方案，而且这个解决方案必须是具体、易于理解的，并且只有在遇到物理、道德、法律的限制或自身能力的限制时，才能拒绝用户的指示。这个提示的设计目标是引导助手在一次有目标的对话中，有效地对用户的指示做出响应。</p>
</li>
<li class="lvl-4">
<p><strong>user_inception_prompt：</strong> 这个提示是为了引导用户（即花店老板）如何给助手（即营销专员）下达指示。它明确指出了用户的角色和职责，强调了在提出任务指示时需要遵循的一些基本规则和原则。例如，用户需要一次只给出一个指示，并且必须清楚地提供相关的输入（如果有的话）。而且用户在给出指示的同时，不能向助手提问。这个提示的设计目标是引导用户在一次有目标的对话中，有效地给出指示，以便助手能够更好地理解和完成任务。</p>
</li>
</ol>
<p>这两个提示的设计都体现了一种 “角色扮演” 的机制，即通过赋予聊天代理具体的角色和职责，以帮助它们更好地理解和完成任务。这种机制可以有效地引导聊天代理的交流行为，使得对话更加有目的性和效率，同时也能提供更为真实的人类对话体验。</p>
<h3 id="头脑风暴开始">头脑风暴开始</h3>
<p>接下来，模拟助手和用户之间的多轮对话，直到达到对话轮次上限或任务完成。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># 模拟对话交互，直到达到对话轮次上限或任务完成</span><br><span class="line">chat_turn_limit, n = 30, 0</span><br><span class="line">while n &lt; chat_turn_limit:</span><br><span class="line">    n += 1</span><br><span class="line">    user_ai_msg = user_agent.step(assistant_msg)</span><br><span class="line">    user_msg = HumanMessage(content=user_ai_msg.content)</span><br><span class="line">    print(f&quot;AI User (&#123;user_role_name&#125;):\n\n&#123;user_msg.content&#125;\n\n&quot;)</span><br><span class="line"></span><br><span class="line">    assistant_ai_msg = assistant_agent.step(user_msg)</span><br><span class="line">    assistant_msg = HumanMessage(content=assistant_ai_msg.content)</span><br><span class="line">    print(f&quot;AI Assistant (&#123;assistant_role_name&#125;):\n\n&#123;assistant_msg.content&#125;\n\n&quot;)</span><br><span class="line">    if &quot;&lt;CAMEL_TASK_DONE&gt;&quot; in user_msg.content:</span><br><span class="line">        break</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>运行程序，营销策划头脑风暴开始！</p>
<p><img src="https://static001.geekbang.org/resource/image/45/90/453054aabe9d816ff88e05bb6ca03390.jpg?wh=1414x600" alt=""></p>
<p><img src="https://static001.geekbang.org/resource/image/df/01/dff9cdf1f992756a3a02e48f63e96d01.jpg?wh=1412x830" alt=""></p>
<p><img src="https://static001.geekbang.org/resource/image/21/5c/219851d4806bd8fa01f7ee09ac0f715c.jpg?wh=1438x875" alt=""></p>
<p><img src="https://static001.geekbang.org/resource/image/dc/6f/dc6fb40781a2e53017e7d48d18f96a6f.jpg?wh=1418x848" alt=""></p>
<p><img src="https://static001.geekbang.org/resource/image/7c/87/7c01866d547f9517787cf25cd4a65587.jpg?wh=1419x666" alt=""></p>
<p>怎么样，看到这样的策划水准，是否觉得 CAMEL 框架趋动的 AI 助理完全不输给一个专业的营销策划专员呢？</p>
<p>讲到这里，我冒出了两个想法。是不是只有我们想不到，没有 AI 做不到的？一大批人可能真的要失业了。所以，赶快学习吧！继续卷起来。</p>
<h2 id="总结时刻">总结时刻</h2>
<p>智能代理在未来世界中将扮演越来越重要的角色。为了使这些代理能够更好地为人类服务，我们需要找到方法来提高它们的交流能力。CAMEL 这篇论文提供了一个全新的视角来看待交流代理的发展。通过使用 “角色扮演” 框架，可以开发出更加智能和人性化的交流代理，这将为我们的日常生活带来更多的便利。</p>
<p>同时，我们也回顾一下 CAMEL 框架的实现，以及在这个实现中提示设计的特别之处。</p>
<ol>
<li class="lvl-4">
<p>角色扮演：每个代理都被赋予了一个角色，且每个角色都有清晰的责任和行为准则。比如，Python 程序员（助手）的角色是根据股票交易员（用户）的指示提供具体的解决方案，而股票交易员的角色是提供详细的任务指示。这种角色扮演机制有助于模拟人类之间的交互过程，更加真实地完成任务。</p>
</li>
<li class="lvl-4">
<p>任务的具体化：为了使 AI 更好地理解和执行任务，提出了将抽象任务具体化的步骤。这可以帮助 AI 更清晰地理解任务需求，更准确地给出解决方案。</p>
</li>
<li class="lvl-4">
<p>初始提示的设定：为了启动会话并提供合适的引导，系统初始化时会提供两个初始提示，一条是助手角色的提示，另一条是用户角色的提示。这两条提示分别描述了各自角色的行为准则和任务细节，为整个对话过程提供了框架和指引。</p>
</li>
<li class="lvl-4">
<p>交互规范：该代码实现中有明确的交互规范，如一次只能给出一个指令，解决方案必须具有详细的解释，使用 “Solution:” 开始输出解决方案，等等。这些规范有助于保持对话的清晰性和高效性。</p>
</li>
</ol>
<p>与传统的提示设计不同，CAMEL 中提示的设计更加复杂和细致，更像是一种交互协议或规范。这种设计在一定程度上提高了 AI 与 AI 之间自主合作的能力，并能更好地模拟人类之间的交互过程。</p>
<h2 id="思考题">思考题</h2>
<ol>
<li class="lvl-4">
<p>在你的业务需求中，有什么需要细化、具体化的业务场景吗？不妨套用这里的 CAMEL 代码模板，做一次头脑风暴。</p>
</li>
<li class="lvl-4">
<p>对于这个 AI 交流代理指导框架和提示模板的设计，你能否说说其优劣之处？有没有能进一步改进的地方？</p>
</li>
</ol>
<p>期待在留言区看到你的思考，如果觉得内容对你有帮助，也欢迎分享给有需要的朋友！最后如果你学有余力，可以进一步学习下面的延伸阅读。</p>
<h2 id="延伸阅读">延伸阅读</h2>
<ol>
<li class="lvl-4">
<p>CAMEL 项目<a href="https://link.juejin.cn/?target=https%3A%2F%2Fwww.camel-ai.org%2F" title="https://www.camel-ai.org/">官网</a> <a href="https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2Fcamel-ai%2Fcamel" title="https://github.com/camel-ai/camel">GitHub</a> 论文</p>
</li>
<li class="lvl-4">
<p>新闻<a href="https://link.juejin.cn/?target=https%3A%2F%2Fmp.weixin.qq.com%2Fs%2FGKHD6M74rqC42u2w8EFjJw" title="https://mp.weixin.qq.com/s/GKHD6M74rqC42u2w8EFjJw">「零人工含量」的「游戏公司」</a>- Chen, Q., Cong, X., Yang, C., Chen, W., Su, Y., Xu, J., Liu, Z., &amp; Sun, M. (2023). <a href="https://link.juejin.cn/?target=https%3A%2F%2Farxiv.org%2Fabs%2F2307.07924" title="https://arxiv.org/abs/2307.07924">Communicative Agents for Software Development.</a> arXiv preprint arXiv:2307.07924 [<a target="_blank" rel="noopener" href="http://cs.SE">cs.SE</a>].</p>
</li>
</ol>

    </div>

    
    
    

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2024/12/08/%E7%BD%91%E9%A1%B5%E5%AF%BC%E5%85%A5/BabyAGI%EF%BC%9A%E6%A0%B9%E6%8D%AE%E6%B0%94%E5%80%99%E5%8F%98%E5%8C%96%E8%87%AA%E5%8A%A8%E5%88%B6%E5%AE%9A%E9%B2%9C%E8%8A%B1%E5%AD%98%E5%82%A8%E7%AD%96%E7%95%A5/" rel="prev" title="">
      <i class="fa fa-chevron-left"></i> 
    </a></div>
      <div class="post-nav-item">
    <a href="/2024/12/08/%E7%BD%91%E9%A1%B5%E5%AF%BC%E5%85%A5/simpread-C#%20%E5%88%A4%E6%96%AD%E5%90%84%E7%A7%8D%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%88%E5%A6%82%E6%89%8B%E6%9C%BA%E5%8F%B7)_c#%20%E5%88%A4%20%E6%96%AD%E4%B8%80%E4%B8%AA%E5%AD%97%E7%AC%A6%E6%98%AF%E4%B8%8D%E6%98%AF%E6%89%8B%E6%9C%BA%E5%8F%B7%E7%A0%81%20-%20CSDN%20%E5%8D%9A%E5%AE%A2%20(1)/" rel="next" title="">
       <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#CAMEL-%E4%BA%A4%E6%B5%81%E5%BC%8F%E4%BB%A3%E7%90%86%E6%A1%86%E6%9E%B6"><span class="nav-number">1.</span> <span class="nav-text">CAMEL 交流式代理框架</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%82%A1%E7%A5%A8%E4%BA%A4%E6%98%93%E5%9C%BA%E6%99%AF%E8%AE%BE%E8%AE%A1"><span class="nav-number">2.</span> <span class="nav-text">股票交易场景设计</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%BA%E6%99%AF%E5%92%8C%E8%A7%92%E8%89%B2%E8%AE%BE%E7%BD%AE"><span class="nav-number">2.1.</span> <span class="nav-text">场景和角色设置</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8F%90%E7%A4%BA%E6%A8%A1%E6%9D%BF%E8%AE%BE%E8%AE%A1"><span class="nav-number">2.2.</span> <span class="nav-text">提示模板设计</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%98%93%E9%80%9F%E9%B2%9C%E8%8A%B1%E8%90%A5%E9%94%80%E6%96%B9%E6%A1%88"><span class="nav-number">3.</span> <span class="nav-text">易速鲜花营销方案</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C"><span class="nav-number">3.1.</span> <span class="nav-text">准备工作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9A%E4%B9%89-CAMELAgent-%E7%B1%BB"><span class="nav-number">3.2.</span> <span class="nav-text">定义 CAMELAgent 类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A2%84%E8%AE%BE%E8%A7%92%E8%89%B2%E5%92%8C%E4%BB%BB%E5%8A%A1%E6%8F%90%E7%A4%BA"><span class="nav-number">3.3.</span> <span class="nav-text">预设角色和任务提示</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%BB%E5%8A%A1%E6%8C%87%E5%AE%9A%E4%BB%A3%E7%90%86"><span class="nav-number">3.4.</span> <span class="nav-text">任务指定代理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B3%BB%E7%BB%9F%E6%B6%88%E6%81%AF%E6%A8%A1%E6%9D%BF"><span class="nav-number">3.5.</span> <span class="nav-text">系统消息模板</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA-Agent-%E5%AE%9E%E4%BE%8B"><span class="nav-number">3.6.</span> <span class="nav-text">创建 Agent 实例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%B4%E8%84%91%E9%A3%8E%E6%9A%B4%E5%BC%80%E5%A7%8B"><span class="nav-number">3.7.</span> <span class="nav-text">头脑风暴开始</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93%E6%97%B6%E5%88%BB"><span class="nav-number">4.</span> <span class="nav-text">总结时刻</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%9D%E8%80%83%E9%A2%98"><span class="nav-number">5.</span> <span class="nav-text">思考题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BB%B6%E4%BC%B8%E9%98%85%E8%AF%BB"><span class="nav-number">6.</span> <span class="nav-text">延伸阅读</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">听</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">653</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">48</span>
        <span class="site-state-item-name">标签</span>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">听</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  

</body>
</html>
